{
    "rules": {
        "sessions": {
            ".read": "(query.orderByChild == 'riderId') || (auth != null && query.orderByChild == 'vendorId' && query.equalTo == auth.uid) || (auth != null && root.child('admins').child(auth.uid).exists()) || (auth != null && auth.token.email == 'info@deproductdojo.com')",
            ".indexOn": [
                "vendorId",
                "status",
                "riderId"
            ],
            "$sessionId": {
                ".read": "true",
                ".write": "auth != null || !data.exists() || data.child('vendorId').val() === 'guest'",
                ".validate": "newData.hasChildren(['refId', 'stopCode'])"
            }
        },
        "locations": {
            ".read": false,
            ".write": "auth != null",
            "$sessionId": {
                ".read": true,
                ".write": "auth != null || root.child('sessions').child($sessionId).exists()"
            }
        },
        "superAdmins": {
            ".read": "auth != null",
            ".write": false
        },
        "adminInvites": {
            ".read": "auth != null && (root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            ".write": "auth != null && (root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')"
        },
        "admins": {
            ".read": "auth != null",
            ".write": "auth != null && auth.token.email == 'info@deproductdojo.com'"
        },
        "vendors": {
            ".read": "auth != null && (root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            "$vendorId": {
                ".read": "auth != null && (auth.uid == $vendorId || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
                ".write": "auth != null && (auth.uid == $vendorId || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')"
            }
        },
        "riders": {
            ".read": "auth != null && (query.orderByChild == 'vendorId' && query.equalTo == auth.uid || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            ".write": "auth != null && (root.child('vendors').child(auth.uid).exists() || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            ".indexOn": [
                "vendorId"
            ]
        },
        "customers": {
            ".read": "auth != null && (query.orderByChild == 'vendorId' && query.equalTo == auth.uid || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            ".write": "auth != null && (root.child('vendors').child(auth.uid).exists() || root.child('admins').child(auth.uid).exists() || auth.token.email == 'info@deproductdojo.com')",
            ".indexOn": [
                "vendorId"
            ]
        },
        "ratings": {
            ".read": "auth != null",
            "$sessionId": {
                ".write": "root.child('sessions').child($sessionId).exists()",
                ".validate": "newData.hasChildren(['rating', 'timestamp'])"
            }
        }
    }
}